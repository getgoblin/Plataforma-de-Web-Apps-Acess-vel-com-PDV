<section class="workspace" aria-label="Área principal de trabalho">
  <div class="ambient-bg" #ambient aria-hidden="true"></div>

  <div class="content-slot">
    <ng-container *ngIf="focused() as w; else empty">
      <ng-container *ngIf="cmp() as Cmp; else loadingTpl">
        <app-window-frame
          [windowId]="w.id"
          [title]="meta()?.name || ''" 
          [icon]="meta()?.icon || '•'"
          [state]="w.state || 'normal'">
          <ng-container *ngComponentOutlet="Cmp"></ng-container>
        </app-window-frame>
      </ng-container>
    </ng-container>

    <ng-template #empty>
      <div class="empty-state"></div>
    </ng-template>

    <ng-template #loadingTpl>
      <div class="empty-state">Carregando widget…</div>
    </ng-template>
  </div>
</section>
