<nav class="topbar__user" aria-label="Menu do usuÃ¡rio" #menuWrap>
  <button
    type="button"
    class="user-btn"
    aria-haspopup="menu"
    [attr.aria-expanded]="open() ? 'true' : 'false'"
    aria-controls="user-menu"
    (click)="toggleMenu()">
    {{ userName() || 'â€”' }}
  </button>

  <div class="topbar__dropdown" id="user-menu" role="menu" [hidden]="!open()">
    <!-- Helpers: Ã­cones SOMENTE, mesmo tamanho, centralizados -->
    <div class="umenu__helpers" aria-label="Atalhos rÃ¡pidos">
      <app-user-menu-icon-button
        icon="âŒ¨"
        [active]="hotkeysOn()"
        (click)="toggleHotkeys()">
      </app-user-menu-icon-button>

      <app-user-menu-icon-button
        icon="?"
        [active]="helperOn()"
        (click)="toggleHelper()">
      </app-user-menu-icon-button>

      <app-user-menu-icon-button
        icon="ðŸ‘"
        [active]="visualOn()"
        (click)="toggleVisual()">
      </app-user-menu-icon-button>
      <!-- Adicione mais Ã­cones aqui quando quiser -->
    </div>

    <hr class="umenu__sep" aria-hidden="true" />

    <!-- Sliders de ocultar barras -->
    <div class="umenu__rows">
      <div class="umenu__row">
        <span class="umenu__row-label">Ocultar Left bar</span>
        <button
          type="button"
          class="switch"
          [class.is-on]="leftHidden()"
          (click)="toggleHideLeft()"
          [attr.aria-pressed]="leftHidden() ? 'true' : 'false'">
          <span class="switch__track"></span>
          <span class="switch__thumb"></span>
        </button>
      </div>

      <!-- Right: SEMPRE aparece; sÃ³ funciona quando rightOpen() -->
      <div class="umenu__row">
        <span class="umenu__row-label">Ocultar Right bar</span>
        <button
          type="button"
          class="switch"
          [class.is-on]="rightHidden()"
          [class.is-disabled]="!canToggleRight()"
          [disabled]="!canToggleRight()"
          (click)="canToggleRight() && toggleHideRight()"
          [attr.aria-pressed]="rightHidden() ? 'true' : 'false'">
          <span class="switch__track"></span>
          <span class="switch__thumb"></span>
        </button>
      </div>
    </div>

    <hr class="umenu__sep" aria-hidden="true" />

    <!-- AÃ§Ãµes -->
    <ul class="umenu__list" role="none">
      <li role="none">
        <button role="menuitem" type="button" (click)="openHelp()">Help</button>
      </li>
      <li role="none">
        <button role="menuitem" type="button" (click)="onLogoff()">Logoff</button>
      </li>
    </ul>
  </div>
</nav>
