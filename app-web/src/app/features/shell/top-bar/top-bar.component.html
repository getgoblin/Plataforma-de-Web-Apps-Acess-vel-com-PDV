<div class="topbar" role="none">
  <!-- Navegação de janelas (guia/app switcher) -->
  <nav class="topbar__windows" aria-label="Janelas abertas">
    <app-window-manager></app-window-manager>
  </nav>

  <!-- Botão central de Widgets (é controle, não nav) -->
  <div class="topbar__widgets" role="group" aria-label="Abrir lista de aplicativos">
    <!-- o botão real fica neste componente; por enquanto só o container semântica -->
  <button
    type="button"
    aria-haspopup="dialog"
    aria-controls="widgets-dialog"
    data-helper-id="widgets-open"
    (click)="openWidgets()"
  >
    Widgets
  </button>


  </div>

  <!-- Menu do usuário -->
    <nav class="topbar__user" aria-label="Menu do usuário">
    <button
        type="button"
        aria-haspopup="menu"
        aria-controls="user-menu"
        aria-label="Abrir menu do usuário"
        data-helper-id="user-menu"
    >
        {{ userName() || '—' }}

    </button>

    <ul id="user-menu" class="topbar__user-list" role="menu" hidden>
        <li role="none">
        <a role="menuitem" href="assets/help/help.pdf" target="_blank" rel="noopener" data-helper-id="help-pdf">
            Help
        </a>
        </li>
        <li role="none">
        <button role="menuitem" type="button" data-helper-id="logoff">
            Logoff
        </button>
        </li>
    </ul>
    </nav>
</div>
